function ignore(){}function id(n){return n}function fst(n){return n[0]}function snd(n){return n[1]}function trd(n){return n[2]}IntelliFactory={Runtime:{Ctor:function(n,t){return n.prototype=t.prototype,n},Class:function(n,t,i){var u=n,f,r,e;if(t){u=new t;for(f in n)u[f]=n[f]}if(r=function(n){if(n)for(var t in n)this[t]=n[t]},r.prototype=u,i)for(e in i)r[e]=i[e];return r},Clone:function(n){var t={};for(var i in n)t[i]=n[i];return t},NewObject:function(n){for(var i={},t=0;t<n.length;t++)i[n[t][0]]=n[t][1];return i},DeleteEmptyFields:function(n,t){for(var r,i=0;i<t.length;i++)r=t[i],n[r]===void 0&&delete n[r];return n},GetOptional:function(n){return n===void 0?null:{$:1,$0:n}},SetOptional:function(n,t,i){i?n[t]=i.$0:delete n[t]},SetOrDelete:function(n,t,i){i===void 0?delete n[t]:n[t]=i},Apply:function(n,t,i){return n.apply(t,i)},Bind:function(n){return function(){return n.apply(this,arguments)}},CreateFuncWithArgs:function(n){return function(){return n(Array.prototype.slice.call(arguments))}},CreateFuncWithOnlyThis:function(n){return function(){return n(this)}},CreateFuncWithThis:function(n){return function(){return n(this).apply(null,arguments)}},CreateFuncWithThisArgs:function(n){return function(){return n(this)(Array.prototype.slice.call(arguments))}},CreateFuncWithRest:function(n,t){return function(){return t(Array.prototype.slice.call(arguments,0,n).concat([Array.prototype.slice.call(arguments,n)]))}},CreateFuncWithArgsRest:function(n,t){return function(){return t([Array.prototype.slice.call(arguments,0,n),Array.prototype.slice.call(arguments,n)])}},BindDelegate:function(n,t){var i=n.bind(t);return i.$Func=n,i.$Target=t,i},CreateDelegate:function(n){if(n.length==0)return null;if(n.length==1)return n[0];var t=function(){for(var i,t=0;t<n.length;t++)i=n[t].apply(null,arguments);return i};return t.$Invokes=n,t},CombineDelegates:function(n){for(var t,i=[],r=0;r<n.length;r++)t=n[r],t&&("$Invokes"in t?i=i.concat(t.$Invokes):i.push(t));return IntelliFactory.Runtime.CreateDelegate(i)},DelegateEqual:function(n,t){var f,e,i,r,u;if(n===t)return!0;if(n==null||t==null||(f=n.$Invokes||[n],e=t.$Invokes||[t],f.length!=e.length))return!1;for(i=0;i<f.length;i++)if(r=f[i],u=e[i],!(r===u||"$Func"in r&&"$Func"in u&&r.$Func===u.$Func&&r.$Target==u.$Target))return!1;return!0},ThisFunc:function(n){return function(){var t=Array.prototype.slice.call(arguments);return t.unshift(this),n.apply(null,t)}},ThisFuncOut:function(n){return function(){var t=Array.prototype.slice.call(arguments);return n.apply(t.shift(),t)}},ParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat([i.slice(n)]))}},ParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat(i[n]))}},ThisParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return i.unshift(this),t.apply(null,i.slice(0,n+1).concat([i.slice(n+1)]))}},ThisParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(i.shift(),i.slice(0,n).concat(i[n]))}},Curried:function(n,t,i){return i=i||[],function(r){var u=i.concat([r===void 0?null:r]);return t==1?n.apply(null,u):t==2?function(t){return n.apply(null,u.concat([t===void 0?null:t]))}:IntelliFactory.Runtime.Curried(n,t-1,u)}},Curried2:function(n){return function(t){return function(i){return n(t,i)}}},Curried3:function(n){return function(t){return function(i){return function(r){return n(t,i,r)}}}},UnionByType:function(n,t,i){for(var u,f=typeof t,r=0;r<n.length;r++)if(u=n[r],typeof u=="number"){if(Array.isArray(t)&&(u==0||t.length==u))return{$:r,$0:t}}else if(u==f)return{$:r,$0:t};if(!i)throw new Error("Type not expected for creating Choice value.");},ScriptBasePath:"./",ScriptPath:function(n,t){return this.ScriptBasePath+(this.ScriptSkipAssemblyDir?"":n+"/")+t},OnLoad:function(n){"load"in this||(this.load=[]);this.load.push(n)},Start:function(){function n(n){for(var t=0;t<n.length;t++)n[t]()}"load"in this&&(n(this.load),this.load=[])}}};IntelliFactory.Runtime.OnLoad(function(){self.WebSharper&&WebSharper.Activator&&WebSharper.Activator.Activate&&WebSharper.Activator.Activate()});Date.now||(Date.now=function(){return(new Date).getTime()});Math.trunc||(Math.trunc=function(n){return n<0?Math.ceil(n):Math.floor(n)});Object.setPrototypeOf||(Object.setPrototypeOf=function(n,t){return n.__proto__=t,n});console||(console={count:ignore,dir:ignore,error:ignore,group:ignore,groupEnd:ignore,info:ignore,log:ignore,profile:ignore,profileEnd:ignore,time:ignore,timeEnd:ignore,trace:ignore,warn:ignore});
(function(){for(var i=0,t=["webkit","moz"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(n){var t=(new Date).getTime(),r=Math.max(0,16-(t-i)),u=window.setTimeout(function(){n(t+r)},r);return i=t+r,u});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(n){clearTimeout(n)})})();
(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu;a=self;b=a.Samples=a.Samples||{};c=b.HelloWorld=b.HelloWorld||{};d=a.EventEmitter;e=a.WebSharper=a.WebSharper||{};f=e.Operators=e.Operators||{};g=e.Seq=e.Seq||{};h=e.Arrays=e.Arrays||{};i=c.State=c.State||{};j=e.Obj=e.Obj||{};k=e.UI=e.UI||{};l=k.Doc=k.Doc||{};m=e.JavaScript=e.JavaScript||{};n=m.Pervasives=m.Pervasives||{};o=e.Enumerator=e.Enumerator||{};p=o.T=o.T||{};q=e.List=e.List||{};r=q.T=q.T||{};s=k.Elt=k.Elt||{};t=k.View=k.View||{};u=k.Client=k.Client||{};v=u.Templates=u.Templates||{};w=e.Unchecked=e.Unchecked||{};x=m.JS=m.JS||{};y=k.DomUtility=k.DomUtility||{};z=k.AttrProxy=k.AttrProxy||{};A=k.Snap=k.Snap||{};B=a.EventTarget;C=a.Node;D=e.Collections=e.Collections||{};E=D.Dictionary=D.Dictionary||{};F=k.Updates=k.Updates||{};G=k.Array=k.Array||{};H=k.DocElemNode=k.DocElemNode||{};I=a.CharacterData;J=a.StartupCode$WebSharper_UI$Templates=a.StartupCode$WebSharper_UI$Templates||{};K=D.HashSet=D.HashSet||{};L=a.WindowOrWorkerGlobalScope;M=a.StartupCode$WebSharper_UI$DomUtility=a.StartupCode$WebSharper_UI$DomUtility||{};N=k.Docs=k.Docs||{};O=k.Attrs=k.Attrs||{};P=a.Object;Q=u.Attrs=u.Attrs||{};R=Q.Dyn=Q.Dyn||{};S=D.DictionaryUtil=D.DictionaryUtil||{};T=v.Prepare=v.Prepare||{};U=e.Slice=e.Slice||{};V=D.KeyCollection=D.KeyCollection||{};W=k.Abbrev=k.Abbrev||{};X=W.Fresh=W.Fresh||{};Y=a.StartupCode$WebSharper_UI$Attr_Client=a.StartupCode$WebSharper_UI$Attr_Client||{};Z=e.Strings=e.Strings||{};_0=k.An=k.An||{};_1=u.Settings=u.Settings||{};_2=W.Mailbox=W.Mailbox||{};_3=u.Docs=u.Docs||{};_4=_3.RunState=_3.RunState||{};_5=_3.NodeSet=_3.NodeSet||{};_6=k.Anims=k.Anims||{};_7=a.StartupCode$WebSharper_UI$Doc_Proxy=a.StartupCode$WebSharper_UI$Doc_Proxy||{};_8=D.HashSetUtil=D.HashSetUtil||{};_9=a.StartupCode$WebSharper_UI$Abbrev=a.StartupCode$WebSharper_UI$Abbrev||{};_=a.StartupCode$WebSharper_UI$Animation=a.StartupCode$WebSharper_UI$Animation||{};$=e.Concurrency=e.Concurrency||{};ba=k.AppendList=k.AppendList||{};bb=k.Easing=k.Easing||{};bc=$.AsyncBody=$.AsyncBody||{};bd=a.StartupCode$WebSharper_Main$Concurrency=a.StartupCode$WebSharper_Main$Concurrency||{};be=$.CT=$.CT||{};bf=W.HashSet=W.HashSet||{};bg=e.Queue=e.Queue||{};bh=$.Scheduler=$.Scheduler||{};bi=e.CancellationTokenSource=e.CancellationTokenSource||{};bj=_3.DomNodes=_3.DomNodes||{};bk=a.Error;bl=e.OperationCanceledException=e.OperationCanceledException||{};bm=e.Lazy=e.Lazy||{};bn=a.StartupCode$WebSharper_UI$AppendList=a.StartupCode$WebSharper_UI$AppendList||{};bo=e.LazyExtensionsProxy=e.LazyExtensionsProxy||{};bp=bo.LazyRecord=bo.LazyRecord||{};bq=a.IntelliFactory;br=bq&&bq.Runtime;bs=a.console;bt=a.jQuery;bu=a.Date;c.Main=function(){var bv,bw,bx,by,bz;bv=new a.GoldenLayout((bw={},bw.content=[(bx=P.assign({type:"row"},a.$special,(by={},by.content=h.ofSeq(g.map(c.component_,f.range(1,3))),by)),bx)],bw),a.jQuery("#gl-container"));bv.registerComponent("example",function(bA,bB){var bC;bC=l.Element("h2",[],[l.TextNode(bB.Text)]).Html();bA.getElement().html(bC);});bv.init();bz=l.get_Empty();v.LoadLocalTemplates("");l.RunAppendById("main",bz);};c.component_=function(bv){var bw,bx,by;bw=P.assign({type:"component"},(bx={componentName:"example"},bx.componentState=i.New("This is the content of Component "+a.String(bv)),bx),(by={},by.title="My "+a.String(bv)+". component",by));return bw;};f.range=function(bv,bw){var bx;bx=1+bw-bv;return bx<=0?[]:g.init(bx,function(by){return by+bv;});};f.FailWith=function(bv){throw new bk(bv);};f.KeyValue=function(bv){return[bv.K,bv.V];};g.map=function(bv,bw){return{GetEnumerator:function(){var bx;bx=o.Get(bw);return new p.New(null,null,function(by){return bx.MoveNext()&&(by.c=bv(bx.Current()),true);},function(){bx.Dispose();});}};};g.init=function(bv,bw){return g.take(bv,g.initInfinite(bw));};g.take=function(bv,bw){bv<0?g.nonNegative():void 0;return{GetEnumerator:function(){var bx;bx=[o.Get(bw)];return new p.New(0,null,function(by){var bz;by.s=by.s+1;return by.s>bv?false:(bz=bx[0],w.Equals(bz,null)?g.insufficient():bz.MoveNext()?(by.c=bz.Current(),by.s===bv?(bz.Dispose(),bx[0]=null):void 0,true):(bz.Dispose(),bx[0]=null,g.insufficient()));},function(){var by;by=bx[0];!w.Equals(by,null)?by.Dispose():void 0;});}};};g.initInfinite=function(bv){return{GetEnumerator:function(){return new p.New(0,null,function(bw){bw.c=bv(bw.s);bw.s=bw.s+1;return true;},void 0);}};};g.head=function(bv){var bw;bw=o.Get(bv);try{return bw.MoveNext()?bw.Current():g.insufficient();}finally{if(typeof bw=="object"&&"Dispose"in bw)bw.Dispose();}};g.fold=function(bv,bw,bx){var by,bz;by=bw;bz=o.Get(bx);try{while(bz.MoveNext())by=bv(by,bz.Current());return by;}finally{if(typeof bz=="object"&&"Dispose"in bz)bz.Dispose();}};g.iter=function(bv,bw){var bx;bx=o.Get(bw);try{while(bx.MoveNext())bv(bx.Current());}finally{if(typeof bx=="object"&&"Dispose"in bx)bx.Dispose();}};g.max=function(bv){var bw,bx,by;bw=o.Get(bv);try{if(!bw.MoveNext())g.seqEmpty();bx=bw.Current();while(bw.MoveNext()){by=bw.Current();w.Compare(by,bx)===1?bx=by:void 0;}return bx;}finally{if(typeof bw=="object"&&"Dispose"in bw)bw.Dispose();}};g.seqEmpty=function(){return f.FailWith("The input sequence was empty.");};h.ofSeq=function(bv){var bw,bx;if(bv instanceof a.Array)return bv.slice();else if(bv instanceof r)return h.ofList(bv);else{bw=[];bx=o.Get(bv);try{while(bx.MoveNext())bw.push(bx.Current());return bw;}finally{if(typeof bx=="object"&&"Dispose"in bx)bx.Dispose();}}};h.ofList=function(bv){var bw,bx;bx=[];bw=bv;while(!(bw.$==0)){bx.push(q.head(bw));bw=q.tail(bw);}return bx;};h.exists=function(bv,bw){var bx,by,bz,bA;bx=false;by=0;bA=h.length(bw);while(!bx&&by<bA)if(bv(bw[by]))bx=true;else by=by+1;return bx;};h.tryPick=function(bv,bw){var bx,by,bz;bx=null;by=0;while(by<bw.length&&bx==null){bz=bv(bw[by]);bz!=null&&bz.$==1?bx=bz:void 0;by=by+1;}return bx;};h.tryFindIndex=function(bv,bw){var bx,by;bx=null;by=0;while(by<bw.length&&bx==null){bv(bw[by])?bx={$:1,$0:by}:void 0;by=by+1;}return bx;};h.filter=function(bv,bw){var bx,by,bz;bx=[];for(by=0,bz=bw.length-1;by<=bz;by++)if(bv(bw[by]))bx.push(bw[by]);return bx;};h.map=function(bv,bw){var bx,by,bz;bx=new a.Array(bw.length);for(by=0,bz=bw.length-1;by<=bz;by++)bx[by]=bv(bw[by]);return bx;};h.iter=function(bv,bw){var bx,by;for(bx=0,by=bw.length-1;bx<=by;bx++)bv(bw[bx]);};h.pick=function(bv,bw){var bx;bx=h.tryPick(bv,bw);return bx==null?f.FailWith("KeyNotFoundException"):bx.$0;};h.concat=function(bv){return a.Array.prototype.concat.apply([],h.ofSeq(bv));};h.foldBack=function(bv,bw,bx){var by,bz,bA,bB,bC;by=bx;bA=bw.length;for(bB=1,bC=bA;bB<=bC;bB++)by=bv(bw[bA-bB],by);return by;};h.choose=function(bv,bw){var bx,by,bz,bA;bx=[];for(by=0,bz=bw.length-1;by<=bz;by++){bA=bv(bw[by]);bA==null?void 0:bx.push(bA.$0);}return bx;};h.create=function(bv,bw){var bx,by,bz;bx=new a.Array(bv);for(by=0,bz=bv-1;by<=bz;by++)bx[by]=bw;return bx;};h.init=function(bv,bw){var bx,by,bz;bv<0?f.FailWith("Negative size given."):null;bx=new a.Array(bv);for(by=0,bz=bv-1;by<=bz;by++)bx[by]=bw(by);return bx;};h.forall=function(bv,bw){var bx,by,bz,bA;bx=true;by=0;bA=h.length(bw);while(bx&&by<bA)if(bv(bw[by]))by=by+1;else bx=false;return bx;};i.New=function(bv){return{Text:bv};};h.get=function(bv,bw){h.checkBounds(bv,bw);return bv[bw];};h.length=function(bv){return bv.dims===2?bv.length*bv.length:bv.length;};h.checkBounds=function(bv,bw){if(bw<0||bw>=bv.length)f.FailWith("Index was outside the bounds of the array.");};h.set=function(bv,bw,bx){h.checkBounds(bv,bw);bv[bw]=bx;};j=e.Obj=br.Class({Equals:function(bv){return this===bv;},GetHashCode:function(){return -1;}},null,j);j.New=br.Ctor(function(){},j);l=k.Doc=br.Class({},j,l);l.get_Empty=function(){return l.Mk(null,t.Const());};l.Element=function(bv,bw,bx){var by,bz;by=z.Concat(bw);bz=l.Concat(bx);return s.New(y.CreateElement(bv),by,bz);};l.TextNode=function(bv){return l.Mk({$:5,$0:y.CreateText(bv)},t.Const());};l.Mk=function(bv,bw){return new l.New(bv,bw);};l.RunAppendById=function(bv,bw){var bx;bx=y.Doc().getElementById(bv);w.Equals(bx,null)?f.FailWith("invalid id: "+bv):l.RunAppend(bx,bw);};l.Concat=function(bv){var bw;bw=G.ofSeqNonCopying(bv);return G.TreeReduce(l.get_Empty(),l.Append,bw);};l.RunAppend=function(bv,bw){var bx;bx=self.document.createTextNode("");bv.appendChild(bx);l.RunBefore(bx,bw);};l.Append=function(bv,bw){return l.Mk({$:0,$0:bv.docNode,$1:bw.docNode},t.Map2Unit(bv.updates,bw.updates));};l.RunBefore=function(bv,bw){var bx;bx=self.document.createTextNode("");bv.parentNode.insertBefore(bx,bv);l.RunBetween(bx,bv,bw);};l.RunBetween=function(bv,bw,bx){var by;N.LinkPrevElement(bw,bx.docNode);by=N.CreateDelimitedRunState(bv,bw,bx.docNode);t.Sink(_0.get_UseAnimations()||_1.BatchUpdatesEnabled()?_2.StartProcessor(N.PerformAnimatedUpdate(false,by,bx.docNode)):function(){N.PerformSyncUpdate(false,by,bx.docNode);},bx.updates);};l.New=br.Ctor(function(bv,bw){j.New.call(this);this.docNode=bv;this.updates=bw;},l);n.NewFromSeq=function(bv){var bw,bx,by;bw={};bx=o.Get(bv);try{while(bx.MoveNext()){by=bx.Current();bw[by[0]]=by[1];}}finally{if(typeof bx=="object"&&"Dispose"in bx)bx.Dispose();}return bw;};o.Get=function(bv){return bv instanceof a.Array?o.ArrayEnumerator(bv):w.Equals(typeof bv,"string")?o.StringEnumerator(bv):bv.GetEnumerator();};o.ArrayEnumerator=function(bv){return new p.New(0,null,function(bw){var bx;bx=bw.s;return bx<h.length(bv)&&(bw.c=h.get(bv,bx),bw.s=bx+1,true);},void 0);};o.StringEnumerator=function(bv){return new p.New(0,null,function(bw){var bx;bx=bw.s;return bx<bv.length&&(bw.c=bv[bx],bw.s=bx+1,true);},void 0);};o.Get0=function(bv){return bv instanceof a.Array?o.ArrayEnumerator(bv):w.Equals(typeof bv,"string")?o.StringEnumerator(bv):"GetEnumerator0"in bv?bv.GetEnumerator0():bv.GetEnumerator();};p=o.T=br.Class({Dispose:function(){if(this.d)this.d(this);},MoveNext:function(){return this.n(this);},Current:function(){return this.c;}},j,p);p.New=br.Ctor(function(bv,bw,bx,by){j.New.call(this);this.s=bv;this.c=bw;this.n=bx;this.d=by;},p);r=q.T=br.Class({GetEnumerator:function(){return new p.New(this,null,function(bv){var bw;bw=bv.s;return bw.$==0?false:(bv.c=bw.$0,bv.s=bw.$1,true);},void 0);},GetEnumerator0:function(){return o.Get(this);}},null,r);s=k.Elt=br.Class({Html:function(){return this.elt.outerHTML;}},l,s);s.New=function(bv,bw,bx){var by,bz;by=N.CreateElemNode(bv,bw,bx.docNode);bz=F.Create(bx.updates);return new s.New$1({$:1,$0:by},t.Map2Unit(O.Updates(by.Attr),bz.v),bv,bz);};s.New$1=br.Ctor(function(bv,bw,bx,by){l.New.call(this,bv,bw);this.docNode$1=bv;this.updates$1=bw;this.elt=bx;this.rvUpdates=by;},s);t.Const=function(bv){var bw;bw=A.New({$:0,$0:bv});return function(){return bw;};};t.Map2Unit=function(bv,bw){return t.CreateLazy(function(){return A.Map2Unit(bv(),bw());});};t.CreateLazy=function(bv){var bw;bw={c:null,o:bv};return function(){var bx,by;bx=bw.c;return bx===null?(bx=bw.o(),bw.c=bx,(by=bx.s,by!=null&&by.$==0)?bw.o=null:A.WhenObsoleteRun(bx,function(){bw.c=null;}),bx):bx;};};t.Sink=function(bv,bw){function bx(){A.WhenRun(bw(),bv,function(){$.scheduler().Fork(bx);});}$.scheduler().Fork(bx);};v.LoadLocalTemplates=function(bv){!v.LocalTemplatesLoaded()?(v.set_LocalTemplatesLoaded(true),v.LoadNestedTemplates(self.document.body,"")):void 0;v.LoadedTemplates().set_Item(bv,v.LoadedTemplateFile(""));};v.LocalTemplatesLoaded=function(){J.$cctor();return J.LocalTemplatesLoaded;};v.set_LocalTemplatesLoaded=function(bv){J.$cctor();J.LocalTemplatesLoaded=bv;};v.LoadNestedTemplates=function(bv,bw){var by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL;function bx(bM){var bN,bO;if(!by.ContainsKey(bM)){bN=(bO=null,[bz.TryGetValue(bM,{get:function(){return bO;},set:function(bP){bO=bP;}}),bO]);bN[0]?(bL.Add(bM),bz.Remove(bM),v.PrepareTemplateStrict(bw,{$:1,$0:bM},bN[1][0],{$:1,$0:bN[1][1]},{$:1,$0:bx})):bs.warn(bL.Contains(bM)?"Encountered loop when instantiating "+bM:"Local template does not exist: "+bM);}}by=v.LoadedTemplateFile(bw);bz=new E.New$5();bA=bv.querySelectorAll("[ws-template]");for(bB=0,bC=bA.length-1;bB<=bC;bB++){bD=bA[bB];bE=bD.getAttribute("ws-template").toLowerCase();bD.removeAttribute("ws-template");bz.set_Item(bE,[[bD],v.FakeRootSingle(bD)]);}bF=bv.querySelectorAll("[ws-children-template]");for(bG=0,bH=bF.length-1;bG<=bH;bG++){bI=bF[bG];bJ=bI.getAttribute("ws-children-template").toLowerCase();bI.removeAttribute("ws-children-template");bz.set_Item(bJ,(bK=y.ChildrenArray(bI),[bK,v.FakeRoot(bK)]));}bL=new K.New$3();while(bz.count>0)bx(g.head(bz.get_Keys()));};v.LoadedTemplates=function(){J.$cctor();return J.LoadedTemplates;};v.LoadedTemplateFile=function(bv){var bw,bx,by;bw=(bx=null,[v.LoadedTemplates().TryGetValue(bv,{get:function(){return bx;},set:function(bz){bx=bz;}}),bx]);return bw[0]?bw[1]:(by=new E.New$5(),(v.LoadedTemplates().set_Item(bv,by),by));};v.FakeRootSingle=function(bv){var bw,bx,by;bv.removeAttribute("ws-template");bw=bv.getAttribute("ws-replace");bw===null?void 0:(bv.removeAttribute("ws-replace"),bx=bv.parentNode,w.Equals(bx,null)?void 0:(by=self.document.createElement(bv.tagName),by.setAttribute("ws-replace",bw),bx.replaceChild(by,bv)));return v.FakeRoot([bv]);};v.FakeRoot=function(bv){var bw,bx,by;bw=self.document.createElement("div");for(bx=0,by=bv.length-1;bx<=by;bx++)bw.appendChild(h.get(bv,bx));return bw;};v.PrepareTemplateStrict=function(bv,bw,bx,by,bz){var bA,bB;function bC(bH,bI){var bJ,bK,bL,bM,bN,bP,bQ,bR,bS,bT,bU,bV,bW,bX,bY,bZ,b0,b1,b2,b3,b4,b5,b6,b7,b8,b9;function bO(b_){}while(true)switch(bH){case 0:if(bI!==null){bJ=bI.nextSibling;if(w.Equals(bI.nodeType,C.TEXT_NODE))T.convertTextNode(bI);else if(w.Equals(bI.nodeType,C.ELEMENT_NODE))bE(bI);bI=bJ;}else return null;break;case 1:bP=U.string(bI.nodeName,{$:1,$0:3},null).toLowerCase();bQ=(bK=bP.indexOf("."),bK===-1?[bv,bP]:[U.string(bP,null,{$:1,$0:bK-1}),U.string(bP,{$:1,$0:bK+1},null)]);bR=bQ[1];bS=bQ[0];if(bS!==""&&!v.LoadedTemplates().ContainsKey(bS))return T.failNotLoaded(bR);else{if(bS===""&&bz!=null)bz.$0(bR);bT=v.LoadedTemplates().get_Item(bS);if(!bT.ContainsKey(bR))return T.failNotLoaded(bR);else{bU=bT.get_Item(bR);bV=bU.cloneNode(true);bW=new K.New$3();bX=new E.New$5();bY=bI.attributes;for(bZ=0,b0=bY.length-1;bZ<=b0;bZ++){b1=bY.item(bZ).name.toLowerCase();bX.set_Item(b1,(b2=bY.item(bZ).nodeValue,b2===""?b1:b2.toLowerCase()));!bW.Add(b1)?bs.warn("Hole mapped twice",b1):void 0;}for(b3=0,b4=bI.childNodes.length-1;b3<=b4;b3++){b5=bI.childNodes[b3];w.Equals(b5.nodeType,C.ELEMENT_NODE)?!bW.Add(b5.nodeName.toLowerCase())?bs.warn("Hole filled twice",bR):void 0:void 0;}b6=bI.childNodes.length===1&&w.Equals(bI.firstChild.nodeType,C.TEXT_NODE);if(b6){bM=T.fillTextHole(bV,bI.firstChild.textContent,bR);((function(b_){return function(b$){if(b$!=null)b_(b$.$0);};}((bN=function(b_){return function(b$){return b_.Add(b$);};}(bW),function(b_){return bO(bN(b_));})))(bM));}T.removeHolesExcept(bV,bW);if(!b6){for(b7=0,b8=bI.childNodes.length-1;b7<=b8;b7++){b9=bI.childNodes[b7];w.Equals(b9.nodeType,C.ELEMENT_NODE)?b9.hasAttributes()?T.fillInstanceAttrs(bV,b9):bD(bV,b9):void 0;}}T.mapHoles(bV,bX);T.fill(bV,bI.parentNode,bI);bI.parentNode.removeChild(bI);return;}}break;}}function bD(bH,bI){var bJ,bL,bM;function bK(bN,bO){var bP,bQ,bR;if(bL==="title"&&bI.hasChildNodes()){bP=bt.parseHTML(bI.textContent);bI.removeChild(bI.firstChild);for(bQ=0,bR=bP.length-1;bQ<=bR;bQ++)bI.appendChild(h.get(bP,bQ));}else null;bE(bI);return T.fill(bI,bN,bO);}bL=bI.nodeName.toLowerCase();y.IterSelector(bH,"[ws-attr-holes]",function(bN){var bO,bP,bQ,bR,bS;bO=Z.SplitChars(bN.getAttribute("ws-attr-holes"),[" "],1);for(bP=0,bQ=bO.length-1;bP<=bQ;bP++){bR=h.get(bO,bP);bN.setAttribute(bR,(bS=new a.RegExp("\\${"+bL+"}","ig"),bN.getAttribute(bR).replace(bS,bI.textContent)));}});bM=bH.querySelector("[ws-hole="+bL+"]");if(w.Equals(bM,null)){bJ=bH.querySelector("[ws-replace="+bL+"]");return w.Equals(bJ,null)?null:(bK(bJ.parentNode,bJ),void bJ.parentNode.removeChild(bJ));}else{while(bM.hasChildNodes())bM.removeChild(bM.lastChild);bM.removeAttribute("ws-hole");return bK(bM,null);}}function bE(bH){if(Z.StartsWith(bH.nodeName.toLowerCase(),"ws-"))bG(bH);else{T.convertAttrs(bH);bF(bH.firstChild);}}function bF(bH){return bC(0,bH);}function bG(bH){return bC(1,bH);}bA=by==null?v.FakeRoot(bx):by.$0;bB=(bw==null?"":bw.$0).toLowerCase();v.LoadedTemplateFile(bv).set_Item(bB,bA);h.length(bx)>0?(function(bH){var bI,bJ,bK,bL;while(true){bI=bH.querySelector("[ws-template]");if(w.Equals(bI,null)){bJ=bH.querySelector("[ws-children-template]");if(w.Equals(bJ,null))return null;else{bK=bJ.getAttribute("ws-children-template");bJ.removeAttribute("ws-children-template");v.PrepareTemplateStrict(bv,{$:1,$0:bK},y.ChildrenArray(bJ),null,null);bH=bH;}}else{bL=bI.getAttribute("ws-template");(v.PrepareSingleTemplate(bv,{$:1,$0:bL},bI))(null);bH=bH;}}}(bA),bF(h.get(bx,0))):void 0;};v.PrepareSingleTemplate=function(bv,bw,bx){var by,bz,bA;by=v.FakeRootSingle(bx);bz=[bx];bA={$:1,$0:by};return function(bB){v.PrepareTemplateStrict(bv,bw,bz,bA,bB);};};v.TextHoleRE=function(){J.$cctor();return J.TextHoleRE;};w.Equals=function(bv,bw){var bx,by,bz,bA;if(bv===bw)return true;else{bx=typeof bv;if(bx=="object"){if(bv===null||bv===void 0||bw===null||bw===void 0)return false;else if("Equals"in bv)return bv.Equals(bw);else if(bv instanceof a.Array&&bw instanceof a.Array)return w.arrayEquals(bv,bw);else if(bv instanceof a.Date&&bw instanceof a.Date)return w.dateEquals(bv,bw);else{by=[true];for(var bB in bv)if(function(bC){by[0]=!bv.hasOwnProperty(bC)||bw.hasOwnProperty(bC)&&w.Equals(bv[bC],bw[bC]);return!by[0];}(bB))break;if(by[0]){for(var bC in bw)if(function(bD){by[0]=!bw.hasOwnProperty(bD)||bv.hasOwnProperty(bD);return!by[0];}(bC))break;}return by[0];}}else return bx=="function"&&("$Func"in bv?bv.$Func===bw.$Func&&bv.$Target===bw.$Target:"$Invokes"in bv&&"$Invokes"in bw&&w.arrayEquals(bv.$Invokes,bw.$Invokes));}};w.arrayEquals=function(bv,bw){var bx,by;if(h.length(bv)===h.length(bw)){bx=true;by=0;while(bx&&by<h.length(bv)){!w.Equals(h.get(bv,by),h.get(bw,by))?bx=false:void 0;by=by+1;}return bx;}else return false;};w.dateEquals=function(bv,bw){return bv.getTime()===bw.getTime();};w.Hash=function(bv){var bw;bw=typeof bv;return bw=="function"?0:bw=="boolean"?bv?1:0:bw=="number"?bv:bw=="string"?w.hashString(bv):bw=="object"?bv==null?0:bv instanceof a.Array?w.hashArray(bv):w.hashObject(bv):0;};w.hashString=function(bv){var bw,bx,by;if(bv===null)return 0;else{bw=5381;for(bx=0,by=bv.length-1;bx<=by;bx++)bw=w.hashMix(bw,bv[bx].charCodeAt());return bw;}};w.hashArray=function(bv){var bw,bx,by;bw=-34948909;for(bx=0,by=h.length(bv)-1;bx<=by;bx++)bw=w.hashMix(bw,w.Hash(h.get(bv,bx)));return bw;};w.hashObject=function(bv){var bw,bx;if("GetHashCode"in bv)return bv.GetHashCode();else{bw=[0];for(var by in bv)if(function(bz){bw[0]=w.hashMix(w.hashMix(bw[0],w.hashString(bz)),w.Hash(bv[bz]));return false;}(by))break;return bw[0];}};w.hashMix=function(bv,bw){return(bv<<5)+bv+bw;};w.Compare=function(bv,bw){var bx,by,bz,bA,bB,bC;if(bv===bw)return 0;else{by=typeof bv;switch(by=="function"?1:by=="boolean"?2:by=="number"?2:by=="string"?2:by=="object"?3:0){case 0:return typeof bw=="undefined"?0:-1;case 1:return f.FailWith("Cannot compare function values.");case 2:return bv<bw?-1:1;case 3:if(bv===null)bz=-1;else if(bw===null)bz=1;else if("CompareTo"in bv)bz=bv.CompareTo(bw);else if("CompareTo0"in bv)bz=bv.CompareTo0(bw);else if(bv instanceof a.Array&&bw instanceof a.Array)bz=w.compareArrays(bv,bw);else if(bv instanceof a.Date&&bw instanceof a.Date)bz=w.compareDates(bv,bw);else{bA=[0];for(var bD in bv)if(function(bE){return!bv.hasOwnProperty(bE)?false:!bw.hasOwnProperty(bE)?(bA[0]=1,true):(bA[0]=w.Compare(bv[bE],bw[bE]),bA[0]!==0);}(bD))break;if(bA[0]===0){for(var bE in bw)if(function(bF){return!bw.hasOwnProperty(bF)?false:!bv.hasOwnProperty(bF)&&(bA[0]=-1,true);}(bE))break;}bz=bA[0];}return bz;}}};w.compareArrays=function(bv,bw){var bx,by;if(h.length(bv)<h.length(bw))return -1;else if(h.length(bv)>h.length(bw))return 1;else{bx=0;by=0;while(bx===0&&by<h.length(bv)){bx=w.Compare(h.get(bv,by),h.get(bw,by));by=by+1;}return bx;}};w.compareDates=function(bv,bw){return w.Compare(bv.getTime(),bw.getTime());};x.GetFieldValues=function(bv){var bw,bx;bw=[];for(var by in bv)bw.push(bv[by]);return bw;};q.head=function(bv){return bv.$==1?bv.$0:q.listEmpty();};q.tail=function(bv){return bv.$==1?bv.$1:q.listEmpty();};q.listEmpty=function(){return f.FailWith("The input list was empty.");};y.CreateElement=function(bv){return y.Doc().createElement(bv);};y.CreateText=function(bv){return y.Doc().createTextNode(bv);};y.Doc=function(){M.$cctor();return M.Doc;};y.ChildrenArray=function(bv){var bw,bx,by;bw=[];for(bx=0,by=bv.childNodes.length-1;bx<=by;bx++)bw.push(bv.childNodes[bx]);return bw;};y.IterSelector=function(bv,bw,bx){var by,bz,bA;by=bv.querySelectorAll(bw);for(bz=0,bA=by.length-1;bz<=bA;bz++)bx(by[bz]);};y.InsertAt=function(bv,bw,bx){var by;if(!(bx.parentNode===bv&&bw===(by=bx.nextSibling,w.Equals(by,null)?null:by)))bv.insertBefore(bx,bw);};y.RemoveNode=function(bv,bw){if(bw.parentNode===bv)bv.removeChild(bw);};z=k.AttrProxy=br.Class({},null,z);z.Concat=function(bv){var bw;bw=G.ofSeqNonCopying(bv);return G.TreeReduce(O.EmptyAttr(),z.Append,bw);};z.Append=function(bv,bw){return O.AppendTree(bv,bw);};t=k.View=br.Class({},null,t);A.Copy=function(bv){var bw,bx,by;bw=bv.s;return bw==null?bv:bw!=null&&bw.$==2?(bx=A.New({$:2,$0:bw.$0,$1:[]}),(A.WhenObsolete(bv,bx),bx)):bw!=null&&bw.$==3?(by=A.New({$:3,$0:[],$1:[]}),(A.When(bv,function(bz){A.MarkDone(by,bv,bz);},by),by)):bv;};A.WhenObsoleteRun=function(bv,bw){var bx;bx=bv.s;bx==null?bw():bx!=null&&bx.$==2?bx.$1.push(bw):bx!=null&&bx.$==3?bx.$1.push(bw):void 0;};A.Map2Unit=function(bv,bw){var bx,by,bz;function bA(){var bB,bC,bD;if(!(bB=bz.s,bB!=null&&bB.$==0||bB!=null&&bB.$==2)){bC=A.ValueAndForever(bv);bD=A.ValueAndForever(bw);bC!=null&&bC.$==1?bD!=null&&bD.$==1?bC.$0[1]&&bD.$0[1]?A.MarkForever(bz,null):A.MarkReady(bz,null):void 0:void 0;}}bx=bv.s;by=bw.s;return bx!=null&&bx.$==0?by!=null&&by.$==0?A.New({$:0,$0:null}):bw:by!=null&&by.$==0?bv:(bz=A.New({$:3,$0:[],$1:[]}),(A.When(bv,bA,bz),A.When(bw,bA,bz),bz));};A.WhenObsolete=function(bv,bw){var bx;bx=bv.s;bx==null?A.Obsolete(bw):bx!=null&&bx.$==2?A.EnqueueSafe(bx.$1,bw):bx!=null&&bx.$==3?A.EnqueueSafe(bx.$1,bw):void 0;};A.When=function(bv,bw,bx){var by;by=bv.s;by==null?A.Obsolete(bx):by!=null&&by.$==2?(A.EnqueueSafe(by.$1,bx),bw(by.$0)):by!=null&&by.$==3?(by.$0.push(bw),A.EnqueueSafe(by.$1,bx)):bw(by.$0);};A.MarkDone=function(bv,bw,bx){var by;if(by=bw.s,by!=null&&by.$==0)A.MarkForever(bv,bx);else A.MarkReady(bv,bx);};A.ValueAndForever=function(bv){var bw;bw=bv.s;return bw!=null&&bw.$==0?{$:1,$0:[bw.$0,true]}:bw!=null&&bw.$==2?{$:1,$0:[bw.$0,false]}:null;};A.MarkForever=function(bv,bw){var bx,by,bz,bA;bx=bv.s;if(bx!=null&&bx.$==3){bv.s={$:0,$0:bw};by=bx.$0;for(bz=0,bA=h.length(by)-1;bz<=bA;bz++)(h.get(by,bz))(bw);}else void 0;};A.MarkReady=function(bv,bw){var bx,by,bz,bA;bx=bv.s;if(bx!=null&&bx.$==3){bv.s={$:2,$0:bw,$1:bx.$1};by=bx.$0;for(bz=0,bA=h.length(by)-1;bz<=bA;bz++)(h.get(by,bz))(bw);}else void 0;};A.WhenRun=function(bv,bw,bx){var by;by=bv.s;by==null?bx():by!=null&&by.$==2?(by.$1.push(bx),bw(by.$0)):by!=null&&by.$==3?(by.$0.push(bw),by.$1.push(bx)):bw(by.$0);};A.EnqueueSafe=function(bv,bw){var bx,by,bz,bA;bv.push(bw);if(bv.length%20===0){bx=bv.slice(0);bg.Clear(bv);for(by=0,bz=h.length(bx)-1;by<=bz;by++){bA=h.get(bx,by);typeof bA=="object"?function(bB){if(bB.s)bv.push(bB);}(bA):function(bB){bv.push(bB);}(bA);}}else void 0;};E=D.Dictionary=br.Class({set_Item:function(bv,bw){this.set(bv,bw);},ContainsKey:function(bv){var bw,bx;bw=this;bx=this.data[this.hash(bv)];return bx==null?false:h.exists(function(by){return bw.equals.apply(null,[(f.KeyValue(by))[0],bv]);},bx);},TryGetValue:function(bv,bw){var bx,by,bz;bx=this;by=this.data[this.hash(bv)];return by==null?false:(bz=h.tryPick(function(bA){var bB;bB=f.KeyValue(bA);return bx.equals.apply(null,[bB[0],bv])?{$:1,$0:bB[1]}:null;},by),bz!=null&&bz.$==1&&(bw.set(bz.$0),true));},Remove:function(bv){return this.remove(bv);},get_Keys:function(){return new V.New(this);},set:function(bv,bw){var bx,by,bz,bA;bx=this;by=this.hash(bv);bz=this.data[by];bz==null?(this.count=this.count+1,this.data[by]=new a.Array({K:bv,V:bw})):(bA=h.tryFindIndex(function(bB){return bx.equals.apply(null,[(f.KeyValue(bB))[0],bv]);},bz),bA==null?(this.count=this.count+1,bz.push({K:bv,V:bw})):bz[bA.$0]={K:bv,V:bw});},remove:function(bv){var bw,bx,by,bz;bw=this;bx=this.hash(bv);by=this.data[bx];return by==null?false:(bz=h.filter(function(bA){return!bw.equals.apply(null,[(f.KeyValue(bA))[0],bv]);},by),h.length(bz)<by.length&&(this.count=this.count-1,this.data[bx]=bz,true));},get_Item:function(bv){return this.get(bv);},get:function(bv){var bw,bx;bw=this;bx=this.data[this.hash(bv)];return bx==null?S.notPresent():h.pick(function(by){var bz;bz=f.KeyValue(by);return bw.equals.apply(null,[bz[0],bv])?{$:1,$0:bz[1]}:null;},bx);},GetEnumerator:function(){return o.Get0(this);},GetEnumerator0:function(){return o.Get0(h.concat(x.GetFieldValues(this.data)));}},j,E);E.New$5=br.Ctor(function(){E.New$6.call(this,[],w.Equals,w.Hash);},E);E.New$6=br.Ctor(function(bv,bw,bx){var by,bz;j.New.call(this);this.equals=bw;this.hash=bx;this.count=0;this.data=[];by=o.Get(bv);try{while(by.MoveNext()){bz=by.Current();this.set(bz.K,bz.V);}}finally{if(typeof by=="object"&&"Dispose"in by)by.Dispose();}},E);g.nonNegative=function(){return f.FailWith("The input must be non-negative.");};g.insufficient=function(){return f.FailWith("The input sequence has an insufficient number of elements.");};F=k.Updates=br.Class({},null,F);F.Create=function(bv){var bw;bw=null;bw=F.New(bv,null,function(){var bx;bx=bw.s;return bx===null?(bx=A.Copy(bw.c()),bw.s=bx,A.WhenObsoleteRun(bx,function(){bw.s=null;}),bx):bx;});return bw;};F.New=function(bv,bw,bx){return new F({c:bv,s:bw,v:bx});};G.ofSeqNonCopying=function(bv){var bw,bx;if(bv instanceof a.Array)return bv;else if(bv instanceof r)return h.ofList(bv);else if(bv===null)return[];else{bw=[];bx=o.Get(bv);try{while(bx.MoveNext())bw.push(bx.Current());return bw;}finally{if(typeof bx=="object"&&"Dispose"in bx)bx.Dispose();}}};G.TreeReduce=function(bv,bw,bx){var by;function bz(bA,bB){var bC,bD;return bB<=0?bv:bB===1&&(bA>=0&&bA<by)?h.get(bx,bA):(bD=bB/2>>0,bw(bz(bA,bD),bz(bA+bD,bB-bD)));}by=h.length(bx);return bz(0,by);};G.MapTreeReduce=function(bv,bw,bx,by){var bz;function bA(bB,bC){var bD,bE;return bC<=0?bw:bC===1&&(bB>=0&&bB<bz)?bv(h.get(by,bB)):(bE=bC/2>>0,bx(bA(bB,bE),bA(bB+bE,bC-bE)));}bz=h.length(by);return bA(0,bz);};H=k.DocElemNode=br.Class({Equals:function(bv){return this.ElKey===bv.ElKey;},GetHashCode:function(){return this.ElKey;}},null,H);H.New=function(bv,bw,bx,by,bz,bA){var bB;return new H((bB={Attr:bv,Children:bw,El:by,ElKey:bz},(br.SetOptional(bB,"Delimiters",bx),br.SetOptional(bB,"Render",bA),bB)));};J.$cctor=function(){J.$cctor=a.ignore;J.LoadedTemplates=new E.New$5();J.LocalTemplatesLoaded=false;J.TextHoleRE="\\${([^}]+)}";};K=D.HashSet=br.Class({Add:function(bv){return this.add(bv);},Contains:function(bv){var bw;bw=this.data[this.hash(bv)];return bw==null?false:this.arrContains(bv,bw);},add:function(bv){var bw,bx;bw=this.hash(bv);bx=this.data[bw];return bx==null?(this.data[bw]=[bv],this.count=this.count+1,true):this.arrContains(bv,bx)?false:(bx.push(bv),this.count=this.count+1,true);},arrContains:function(bv,bw){var bx,by,bz,bA;bx=true;by=0;bA=bw.length;while(bx&&by<bA)if(this.equals.apply(null,[bw[by],bv]))bx=false;else by=by+1;return!bx;},ExceptWith:function(bv){var bw;bw=o.Get(bv);try{while(bw.MoveNext())this.Remove(bw.Current());}finally{if(typeof bw=="object"&&"Dispose"in bw)bw.Dispose();}},get_Count:function(){return this.count;},CopyTo:function(bv){var bw,bx,by,bz;bw=0;bx=_8.concat(this.data);for(by=0,bz=bx.length-1;by<=bz;by++)h.set(bv,by,bx[by]);},IntersectWith:function(bv){var bw,bx,by,bz,bA;bw=new K.New$4(bv,this.equals,this.hash);bx=_8.concat(this.data);for(by=0,bz=bx.length-1;by<=bz;by++){bA=bx[by];!bw.Contains(bA)?this.Remove(bA):void 0;}},Remove:function(bv){var bw;bw=this.data[this.hash(bv)];return bw==null?false:this.arrRemove(bv,bw)&&(this.count=this.count-1,true);},arrRemove:function(bv,bw){var bx,by,bz,bA;bx=true;by=0;bA=bw.length;while(bx&&by<bA)if(this.equals.apply(null,[bw[by],bv])){bw.splice.apply(bw,[by,1]);bx=false;}else by=by+1;return!bx;},GetEnumerator:function(){return o.Get(_8.concat(this.data));},GetEnumerator0:function(){return o.Get(_8.concat(this.data));}},j,K);K.New$3=br.Ctor(function(){K.New$4.call(this,[],w.Equals,w.Hash);},K);K.New$4=br.Ctor(function(bv,bw,bx){var by;j.New.call(this);this.equals=bw;this.hash=bx;this.data=[];this.count=0;by=o.Get(bv);try{while(by.MoveNext())this.add(by.Current());}finally{if(typeof by=="object"&&"Dispose"in by)by.Dispose();}},K);K.New$2=br.Ctor(function(bv){K.New$4.call(this,bv,w.Equals,w.Hash);},K);M.$cctor=function(){M.$cctor=a.ignore;M.Doc=self.document;};A.Obsolete=function(bv){var bw,bx,by,bz,bA;bx=bv.s;if(bx==null||(bx!=null&&bx.$==2?(bw=bx.$1,false):bx!=null&&bx.$==3?(bw=bx.$1,false):true))void 0;else{bv.s=null;for(by=0,bz=h.length(bw)-1;by<=bz;by++){bA=h.get(bw,by);typeof bA=="object"?function(bB){A.Obsolete(bB);}(bA):bA();}}};A.New=function(bv){return{s:bv};};N.CreateElemNode=function(bv,bw,bx){var by;N.LinkElement(bv,bx);by=O.Insert(bv,bw);return H.New(by,bx,null,bv,X.Int(),br.GetOptional(by.OnAfterRender));};N.LinkElement=function(bv,bw){N.InsertDoc(bv,bw,null);};N.LinkPrevElement=function(bv,bw){N.InsertDoc(bv.parentNode,bw,bv);};N.CreateDelimitedRunState=function(bv,bw,bx){return _4.New(_5.get_Empty(),N.CreateDelimitedElemNode(bv,bw,O.EmptyAttr(),bx));};N.PerformAnimatedUpdate=function(bv,bw,bx){var by;return _0.get_UseAnimations()?(by=null,$.Delay(function(){var bz,bA,bB;bz=_5.FindAll(bx);bA=N.ComputeChangeAnim(bw,bz);bB=N.ComputeEnterAnim(bw,bz);return $.Bind(_0.Play(_0.Append(bA,N.ComputeExitAnim(bw,bz))),function(){return $.Bind(N.SyncElemNodesNextFrame(bv,bw),function(){return $.Bind(_0.Play(bB),function(){bw.PreviousNodes=bz;return $.Return(null);});});});})):N.SyncElemNodesNextFrame(bv,bw);};N.PerformSyncUpdate=function(bv,bw,bx){var by;by=_5.FindAll(bx);N.SyncElemNode(bv,bw.Top);bw.PreviousNodes=by;};N.InsertDoc=function(bv,bw,bx){var by;return bw!=null&&bw.$==1?N.InsertNode(bv,bw.$0.El,bx):bw!=null&&bw.$==2?(by=bw.$0,(by.Dirty=false,N.InsertDoc(bv,by.Current,bx))):bw==null?bx:bw!=null&&bw.$==4?N.InsertNode(bv,bw.$0.Text,bx):bw!=null&&bw.$==5?N.InsertNode(bv,bw.$0,bx):bw!=null&&bw.$==6?h.foldBack(function(bz,bA){return bz==null||bz.constructor===P?N.InsertDoc(bv,bz,bA):N.InsertNode(bv,bz,bA);},bw.$0.Els,bx):N.InsertDoc(bv,bw.$0,N.InsertDoc(bv,bw.$1,bx));};N.CreateDelimitedElemNode=function(bv,bw,bx,by){var bz,bA;bz=bv.parentNode;N.LinkPrevElement(bw,by);bA=O.Insert(bz,bx);return H.New(bA,by,{$:1,$0:[bv,bw]},bz,X.Int(),br.GetOptional(bA.OnAfterRender));};N.SyncElemNodesNextFrame=function(bv,bw){function bx(by){a.requestAnimationFrame(function(){N.SyncElemNode(bv,bw.Top);by();});}return _1.BatchUpdatesEnabled()?$.FromContinuations(function(by,bz,bA){return bx.apply(null,[by,bz,bA]);}):(N.SyncElemNode(bv,bw.Top),$.Return(null));};N.ComputeExitAnim=function(bv,bw){return _0.Concat(h.map(function(bx){return O.GetExitAnim(bx.Attr);},_5.ToArray(_5.Except(bw,_5.Filter(function(bx){return O.HasExitAnim(bx.Attr);},bv.PreviousNodes)))));};N.ComputeEnterAnim=function(bv,bw){return _0.Concat(h.map(function(bx){return O.GetEnterAnim(bx.Attr);},_5.ToArray(_5.Except(bv.PreviousNodes,_5.Filter(function(bx){return O.HasEnterAnim(bx.Attr);},bw)))));};N.ComputeChangeAnim=function(bv,bw){var bx;function by(bz){return O.HasChangeAnim(bz.Attr);}bx=function(bz){return _5.Filter(by,bz);};return _0.Concat(h.map(function(bz){return O.GetChangeAnim(bz.Attr);},_5.ToArray(_5.Intersect(bx(bv.PreviousNodes),bx(bw)))));};N.SyncElemNode=function(bv,bw){!bv?N.SyncElement(bw):void 0;N.Sync(bw.Children);N.AfterRender(bw);};N.InsertNode=function(bv,bw,bx){y.InsertAt(bv,bx,bw);return bw;};N.SyncElement=function(bv){function bw(bx){function by(bz){var bA,bB;return bz!=null&&bz.$==0?by(bz.$0)||by(bz.$1):bz!=null&&bz.$==2?(bA=bz.$0,bA.Dirty||by(bA.Current)):bz!=null&&bz.$==6&&(bB=bz.$0,bB.Dirty||h.exists(bw,bB.Holes));}return by(bx.Children);}O.Sync(bv.El,bv.Attr);bw(bv)?N.DoSyncElement(bv):void 0;};N.Sync=function(bv){var bw,bx;if(bv!=null&&bv.$==1)N.SyncElemNode(false,bv.$0);else if(bv!=null&&bv.$==2)N.Sync(bv.$0.Current);else if(bv==null);else if(bv!=null&&bv.$==5);else if(bv!=null&&bv.$==4){bw=bv.$0;bw.Dirty?(bw.Text.nodeValue=bw.Value,bw.Dirty=false):void 0;}else if(bv!=null&&bv.$==6){bx=bv.$0;h.iter(function(by){N.SyncElemNode(false,by);},bx.Holes);h.iter(function(by){O.Sync(by[0],by[1]);},bx.Attrs);N.AfterRender(bx);}else{N.Sync(bv.$0);N.Sync(bv.$1);}};N.AfterRender=function(bv){var bw;bw=br.GetOptional(bv.Render);bw!=null&&bw.$==1?(bw.$0(bv.El),br.SetOptional(bv,"Render",null)):void 0;};N.DoSyncElement=function(bv){var bw,bx,by;function bz(bA,bB){var bC,bD;return bA!=null&&bA.$==1?bA.$0.El:bA!=null&&bA.$==2?(bC=bA.$0,bC.Dirty?(bC.Dirty=false,N.InsertDoc(bw,bC.Current,bB)):bz(bC.Current,bB)):bA==null?bB:bA!=null&&bA.$==4?bA.$0.Text:bA!=null&&bA.$==5?bA.$0:bA!=null&&bA.$==6?(bD=bA.$0,(bD.Dirty?bD.Dirty=false:void 0,h.foldBack(function(bE,bF){return bE==null||bE.constructor===P?bz(bE,bF):bE;},bD.Els,bB))):bz(bA.$0,bz(bA.$1,bB));}bw=bv.El;bj.Iter((bx=bv.El,function(bA){y.RemoveNode(bx,bA);}),bj.Except(bj.DocChildren(bv),bj.Children(bv.El,br.GetOptional(bv.Delimiters))));bz(bv.Children,(by=br.GetOptional(bv.Delimiters),by!=null&&by.$==1?by.$0[1]:null));};O.Updates=function(bv){return G.MapTreeReduce(function(bw){return bw.NChanged();},t.Const(),t.Map2Unit,bv.DynNodes);};O.AppendTree=function(bv,bw){var bx;return bv===null?bw:bw===null?bv:(bx=new z({$:2,$0:bv,$1:bw}),(O.SetFlags(bx,O.Flags(bv)|O.Flags(bw)),bx));};O.EmptyAttr=function(){Y.$cctor();return Y.EmptyAttr;};O.Insert=function(bv,bw){var bx,by,bz;function bA(bB){if(!(bB===null))if(bB!=null&&bB.$==1)bx.push(bB.$0);else if(bB!=null&&bB.$==2){bA(bB.$0);bA(bB.$1);}else if(bB!=null&&bB.$==3)bB.$0(bv);else if(bB!=null&&bB.$==4)by.push(bB.$0);}bx=[];by=[];bA(bw);bz=bx.slice(0);return R.New(bv,O.Flags(bw),bz,by.length===0?null:{$:1,$0:function(bB){g.iter(function(bC){bC(bB);},by);}});};O.SetFlags=function(bv,bw){bv.flags=bw;};O.Flags=function(bv){return bv!==null&&bv.hasOwnProperty("flags")?bv.flags:0;};O.HasExitAnim=function(bv){var bw;bw=2;return(bv.DynFlags&bw)===bw;};O.GetExitAnim=function(bv){return O.GetAnim(bv,function(bw,bx){return bw.NGetExitAnim(bx);});};O.HasEnterAnim=function(bv){var bw;bw=1;return(bv.DynFlags&bw)===bw;};O.GetEnterAnim=function(bv){return O.GetAnim(bv,function(bw,bx){return bw.NGetEnterAnim(bx);});};O.HasChangeAnim=function(bv){var bw;bw=4;return(bv.DynFlags&bw)===bw;};O.GetChangeAnim=function(bv){return O.GetAnim(bv,function(bw,bx){return bw.NGetChangeAnim(bx);});};O.GetAnim=function(bv,bw){return _0.Concat(h.map(function(bx){return bw(bx,bv.DynElem);},bv.DynNodes));};O.Sync=function(bv,bw){h.iter(function(bx){bx.NSync(bv);},bw.DynNodes);};R.New=function(bv,bw,bx,by){var bz;bz={DynElem:bv,DynFlags:bw,DynNodes:bx};br.SetOptional(bz,"OnAfterRender",by);return bz;};S.notPresent=function(){return f.FailWith("The given key was not present in the dictionary.");};T.convertTextNode=function(bv){var bw,bx,by,bz,bA,bB;bw=null;bx=0;bz=bv.textContent;bA=new a.RegExp(v.TextHoleRE(),"g");while(bw=bA.exec(bz),bw!==null){bv.parentNode.insertBefore(self.document.createTextNode(U.string(bz,{$:1,$0:bx},{$:1,$0:bA.lastIndex-h.get(bw,0).length-1})),bv);bx=bA.lastIndex;bB=self.document.createElement("span");bB.setAttribute("ws-replace",h.get(bw,1).toLowerCase());bv.parentNode.insertBefore(bB,bv);}bA.lastIndex=0;bv.textContent=U.string(bz,{$:1,$0:bx},null);};T.failNotLoaded=function(bv){bs.warn("Instantiating non-loaded template",bv);};T.fillTextHole=function(bv,bw,bx){var by;by=bv.querySelector("[ws-replace]");return w.Equals(by,null)?(bs.warn("Filling non-existent text hole",bx),null):(by.parentNode.replaceChild(new a.Text(bw),by),{$:1,$0:by.getAttribute("ws-replace")});};T.removeHolesExcept=function(bv,bw){function bx(by){y.IterSelector(bv,"["+by+"]",function(bz){if(!bw.Contains(bz.getAttribute(by)))bz.removeAttribute(by);});}bx("ws-attr");bx("ws-onafterrender");bx("ws-var");y.IterSelector(bv,"[ws-hole]",function(by){if(!bw.Contains(by.getAttribute("ws-hole"))){by.removeAttribute("ws-hole");while(by.hasChildNodes())by.removeChild(by.lastChild);}});y.IterSelector(bv,"[ws-replace]",function(by){if(!bw.Contains(by.getAttribute("ws-replace")))by.parentNode.removeChild(by);});y.IterSelector(bv,"[ws-on]",function(by){by.setAttribute("ws-on",Z.concat(" ",h.filter(function(bz){return bw.Contains(h.get(Z.SplitChars(bz,[":"],1),1));},Z.SplitChars(by.getAttribute("ws-on"),[" "],1))));});y.IterSelector(bv,"[ws-attr-holes]",function(by){var bz,bA,bB,bC,bD;bz=Z.SplitChars(by.getAttribute("ws-attr-holes"),[" "],1);for(bA=0,bB=bz.length-1;bA<=bB;bA++){bC=h.get(bz,bA);by.setAttribute(bC,(bD=new a.RegExp(v.TextHoleRE(),"g"),by.getAttribute(bC).replace(bD,function(bE,bF){return bw.Contains(bF)?bE:"";})));}});};T.fillInstanceAttrs=function(bv,bw){var bx,by,bz,bA,bB;T.convertAttrs(bw);bx=bw.nodeName.toLowerCase();by=bv.querySelector("[ws-attr="+bx+"]");if(w.Equals(by,null))bs.warn("Filling non-existent attr hole",bx);else{by.removeAttribute("ws-attr");for(bz=0,bA=bw.attributes.length-1;bz<=bA;bz++){bB=bw.attributes.item(bz);bB.name==="class"&&by.hasAttribute("class")?by.setAttribute("class",by.getAttribute("class")+" "+bB.nodeValue):by.setAttribute(bB.name,bB.nodeValue);}}};T.mapHoles=function(bv,bw){function bx(by){y.IterSelector(bv,"["+by+"]",function(bz){var bA,bB;bA=(bB=null,[bw.TryGetValue(bz.getAttribute(by).toLowerCase(),{get:function(){return bB;},set:function(bC){bB=bC;}}),bB]);bA[0]?bz.setAttribute(by,bA[1]):void 0;});}bx("ws-hole");bx("ws-replace");bx("ws-attr");bx("ws-onafterrender");bx("ws-var");y.IterSelector(bv,"[ws-on]",function(by){by.setAttribute("ws-on",Z.concat(" ",h.map(function(bz){var bA,bB,bC;bA=Z.SplitChars(bz,[":"],1);bB=(bC=null,[bw.TryGetValue(h.get(bA,1),{get:function(){return bC;},set:function(bD){bC=bD;}}),bC]);return bB[0]?h.get(bA,0)+":"+bB[1]:bz;},Z.SplitChars(by.getAttribute("ws-on"),[" "],1))));});y.IterSelector(bv,"[ws-attr-holes]",function(by){var bz,bA,bB;bz=Z.SplitChars(by.getAttribute("ws-attr-holes"),[" "],1);for(bA=0,bB=bz.length-1;bA<=bB;bA++)(function(){var bC;function bD(bE,bF){var bG;bG=f.KeyValue(bF);return bE.replace(new a.RegExp("\\${"+bG[0]+"}","ig"),"${"+bG[1]+"}");}bC=h.get(bz,bA);return by.setAttribute(bC,(((br.Curried3(g.fold))(bD))(by.getAttribute(bC)))(bw));}());});};T.fill=function(bv,bw,bx){while(true)if(bv.hasChildNodes())bx=bw.insertBefore(bv.lastChild,bx);else return null;};T.convertAttrs=function(bv){var bx,by,bz,bA,bB,bC,bD,bE;function bw(bF){var bG;bG=bv.getAttribute(bF);bG===null?void 0:bv.setAttribute(bF,bG.toLowerCase());}bx=bv.attributes;by=[];bz=[];bA=[];for(bB=0,bC=bx.length-1;bB<=bC;bB++){bD=bx.item(bB);Z.StartsWith(bD.nodeName,"ws-on")&&bD.nodeName!=="ws-onafterrender"&&bD.nodeName!=="ws-on"?(by.push(bD.nodeName),bz.push(U.string(bD.nodeName,{$:1,$0:"ws-on".length},null)+":"+bD.nodeValue.toLowerCase())):!Z.StartsWith(bD.nodeName,"ws-")&&(new a.RegExp(v.TextHoleRE())).test(bD.nodeValue)?(bD.nodeValue=(bE=new a.RegExp(v.TextHoleRE(),"g"),bD.nodeValue.replace(bE,function(bF,bG){return"${"+bG.toLowerCase()+"}";})),bA.push(bD.nodeName)):void 0;}!(bz.length==0)?bv.setAttribute("ws-on",Z.concat(" ",bz)):void 0;!(bA.length==0)?bv.setAttribute("ws-attr-holes",Z.concat(" ",bA)):void 0;bw("ws-hole");bw("ws-replace");bw("ws-attr");bw("ws-onafterrender");bw("ws-var");h.iter(function(bF){bv.removeAttribute(bF);},by);};U.string=function(bv,bw,bx){return bw==null?bx!=null&&bx.$==1?bv.slice(0,bx.$0+1):"":bx==null?bv.slice(bw.$0):bv.slice(bw.$0,bx.$0+1);};V=D.KeyCollection=br.Class({GetEnumerator$1:function(){return o.Get(g.map(function(bv){return bv.K;},this.d));},GetEnumerator:function(){return this.GetEnumerator$1();},GetEnumerator0:function(){return this.GetEnumerator$1();}},j,V);V.New=br.Ctor(function(bv){j.New.call(this);this.d=bv;},V);X.Int=function(){X.set_counter(X.counter()+1);return X.counter();};X.set_counter=function(bv){_9.$cctor();_9.counter=bv;};X.counter=function(){_9.$cctor();return _9.counter;};Y.$cctor=function(){Y.$cctor=a.ignore;Y.EmptyAttr=null;};Z.concat=function(bv,bw){return h.ofSeq(bw).join(bv);};Z.SplitChars=function(bv,bw,bx){return Z.Split(bv,new a.RegExp("["+Z.RegexEscape(bw.join(""))+"]"),bx);};Z.StartsWith=function(bv,bw){return bv.substring(0,bw.length)==bw;};Z.Split=function(bv,bw,bx){return bx===1?h.filter(function(by){return by!=="";},Z.SplitWith(bv,bw)):Z.SplitWith(bv,bw);};Z.RegexEscape=function(bv){return bv.replace(new a.RegExp("[-\\/\\\\^$*+?.()|[\\]{}]","g"),"\\$&");};Z.SplitWith=function(bv,bw){return bv.split(bw);};_0.get_UseAnimations=function(){return _6.UseAnimations();};_0.Play=function(bv){var bw;bw=null;return $.Delay(function(){return $.Bind(_0.Run(a.ignore,_6.Actions(bv)),function(){_6.Finalize(bv);return $.Return(null);});});};_0.Append=function(bv,bw){return{$:0,$0:ba.Append(bv.$0,bw.$0)};};_0.Run=function(bv,bw){var bx;function by(bz){function bA(bB,bC){var bD;bD=bC-bB;bw.Compute(bD);bv();return bD<=bx?void a.requestAnimationFrame(function(bE){bA(bB,bE);}):bz();}a.requestAnimationFrame(function(bB){bA(bB,bB);});}bx=bw.Duration;return bx===0?$.Zero():$.FromContinuations(function(bz,bA,bB){return by.apply(null,[bz,bA,bB]);});};_0.Concat=function(bv){return{$:0,$0:ba.Concat(g.map(_6.List,bv))};};_1.BatchUpdatesEnabled=function(){_7.$cctor();return _7.BatchUpdatesEnabled;};_2.StartProcessor=function(bv){var bw;function bx(){var by;by=null;return $.Delay(function(){return $.Bind(bv,function(){var bz;bz=bw[0];return bz===1?(bw[0]=0,$.Zero()):bz===2?(bw[0]=1,bx()):$.Zero();});});}bw=[0];return function(){var by;by=bw[0];by===0?(bw[0]=1,$.Start(bx(),null)):by===1?bw[0]=2:void 0;};};_4.New=function(bv,bw){return{PreviousNodes:bv,Top:bw};};_5.get_Empty=function(){return{$:0,$0:new K.New$3()};};_5.FindAll=function(bv){var bw;function bx(bz){if(bz!=null&&bz.$==0){bx(bz.$0);bx(bz.$1);}else if(bz!=null&&bz.$==1)by(bz.$0);else if(bz!=null&&bz.$==2)bx(bz.$0.Current);else if(bz!=null&&bz.$==6)h.iter(by,bz.$0.Holes);}function by(bz){bw.push(bz);bx(bz.Children);}bw=[];bx(bv);return{$:0,$0:new K.New$2(bw)};};_5.Filter=function(bv,bw){return{$:0,$0:bf.Filter(bv,bw.$0)};};_5.Except=function(bv,bw){return{$:0,$0:bf.Except(bv.$0,bw.$0)};};_5.ToArray=function(bv){return bf.ToArray(bv.$0);};_5.Intersect=function(bv,bw){return{$:0,$0:bf.Intersect(bv.$0,bw.$0)};};_6.UseAnimations=function(){_.$cctor();return _.UseAnimations;};_6.Actions=function(bv){return _6.ConcatActions(h.choose(function(bw){return bw.$==1?{$:1,$0:bw.$0}:null;},ba.ToArray(bv.$0)));};_6.Finalize=function(bv){h.iter(function(bw){if(bw.$==0)bw.$0();},ba.ToArray(bv.$0));};_6.ConcatActions=function(bv){var bw,bx,by,bz;bw=G.ofSeqNonCopying(bv);bx=h.length(bw);return bx===0?_6.Const():bx===1?h.get(bw,0):(by=g.max(g.map(function(bA){return bA.Duration;},bw)),(bz=h.map(function(bA){return _6.Prolong(by,bA);},bw),_6.Def(by,function(bA){h.iter(function(bB){bB.Compute(bA);},bz);})));};_6.List=function(bv){return bv.$0;};_6.Const=function(bv){return _6.Def(0,function(){return bv;});};_6.Def=function(bv,bw){return{Compute:bw,Duration:bv};};_6.Prolong=function(bv,bw){var bx,by,bz;bx=bw.Compute;by=bw.Duration;bz=bm.Create(function(){return bw.Compute(bw.Duration);});return{Compute:function(bA){return bA>=by?bz.f():bx(bA);},Duration:bv};};_7.$cctor=function(){_7.$cctor=a.ignore;_7.BatchUpdatesEnabled=true;};_8.concat=function(bv){var bw,bx;bw=[];for(var by in bv)bw.push.apply(bw,bv[by]);return bw;};_9.$cctor=function(){_9.$cctor=a.ignore;_9.counter=0;};_.$cctor=function(){_.$cctor=a.ignore;_.CubicInOut=bb.Custom(function(bv){var bw;bw=bv*bv;return 3*bw-2*(bw*bv);});_.UseAnimations=true;};$.Delay=function(bv){return function(bw){try{(bv(null))(bw);}catch(bx){bw.k({$:1,$0:bx});}};};$.Bind=function(bv,bw){return $.checkCancel(function(bx){bv(bc.New(function(by){var bz;if(by.$==0){bz=by.$0;$.scheduler().Fork(function(){try{(bw(bz))(bx);}catch(bA){bx.k({$:1,$0:bA});}});}else $.scheduler().Fork(function(){bx.k(by);});},bx.ct));});};$.Zero=function(){bd.$cctor();return bd.Zero;};$.Start=function(bv,bw){var bx,by;bx=(by=($.defCTS())[0],bw==null?by:bw.$0);$.scheduler().Fork(function(){if(!bx.c)bv(bc.New(function(bz){if(bz.$==1)$.UncaughtAsyncError(bz.$0);},bx));});};$.Return=function(bv){return function(bw){bw.k({$:0,$0:bv});};};$.checkCancel=function(bv){return function(bw){if(bw.ct.c)$.cancel(bw);else bv(bw);};};$.defCTS=function(){bd.$cctor();return bd.defCTS;};$.UncaughtAsyncError=function(bv){bs.log("WebSharper: Uncaught asynchronous exception",bv);};$.FromContinuations=function(bv){return function(bw){var bx;function by(bz){if(bx[0])f.FailWith("A continuation provided by Async.FromContinuations was invoked multiple times");else{bx[0]=true;$.scheduler().Fork(bz);}}bx=[false];bv(function(bz){by(function(){bw.k({$:0,$0:bz});});},function(bz){by(function(){bw.k({$:1,$0:bz});});},function(bz){by(function(){bw.k({$:2,$0:bz});});});};};$.cancel=function(bv){bv.k({$:2,$0:new bl.New(bv.ct)});};$.scheduler=function(){bd.$cctor();return bd.scheduler;};ba.Append=function(bv,bw){return bv.$==0?bw:bw.$==0?bv:{$:2,$0:bv,$1:bw};};ba.ToArray=function(bv){var bw;function bx(by){if(by.$==1)bw.push(by.$0);else if(by.$==2){bx(by.$0);bx(by.$1);}else if(by.$==3)h.iter(function(bz){bw.push(bz);},by.$0);}bw=[];bx(bv);return bw.slice(0);};ba.Concat=function(bv){var bw;bw=G.ofSeqNonCopying(bv);return G.TreeReduce(ba.Empty(),ba.Append,bw);};ba.Empty=function(){bn.$cctor();return bn.Empty;};bb=k.Easing=br.Class({},j,bb);bb.Custom=function(bv){return new bb.New(bv);};bb.New=br.Ctor(function(bv){j.New.call(this);this.transformTime=bv;},bb);bc.New=function(bv,bw){return{k:bv,ct:bw};};bd.$cctor=function(){bd.$cctor=a.ignore;bd.noneCT=be.New(false,[]);bd.scheduler=new bh.New();bd.defCTS=[new bi.New()];bd.Zero=$.Return();bd.GetCT=function(bv){bv.k({$:0,$0:bv.ct});};};be.New=function(bv,bw){return{c:bv,r:bw};};bf.Filter=function(bv,bw){return new K.New$2(h.filter(bv,bf.ToArray(bw)));};bf.Except=function(bv,bw){var bx;bx=new K.New$2(bf.ToArray(bw));bx.ExceptWith(bf.ToArray(bv));return bx;};bf.ToArray=function(bv){var bw;bw=h.create(bv.get_Count(),void 0);bv.CopyTo(bw);return bw;};bf.Intersect=function(bv,bw){var bx;bx=new K.New$2(bf.ToArray(bv));bx.IntersectWith(bf.ToArray(bw));return bx;};bg.Clear=function(bv){bv.splice(0,h.length(bv));};bh=$.Scheduler=br.Class({Fork:function(bv){var bw;bw=this;this.robin.push(bv);this.idle?(this.idle=false,a.setTimeout(function(){bw.tick();},0)):void 0;},tick:function(){var bv,bw,bx;bw=this;bx=bu.now();bv=true;while(bv)if(this.robin.length===0){this.idle=true;bv=false;}else{(this.robin.shift())();bu.now()-bx>40?(a.setTimeout(function(){bw.tick();},0),bv=false):void 0;}}},j,bh);bh.New=br.Ctor(function(){j.New.call(this);this.idle=true;this.robin=[];},bh);bi=e.CancellationTokenSource=br.Class({},j,bi);bi.New=br.Ctor(function(){j.New.call(this);this.c=false;this.pending=null;this.r=[];this.init=1;},bi);bj.Children=function(bv,bw){var bx,by,bz;if(bw!=null&&bw.$==1){bz=[];bx=bw.$0[0].nextSibling;while(bx!==bw.$0[1]){bz.push(bx);bx=bx.nextSibling;}return{$:0,$0:bz};}else return{$:0,$0:h.init(bv.childNodes.length,(by=bv.childNodes,function(bA){return by[bA];}))};};bj.Except=function(bv,bw){var bx;bx=bv.$0;return{$:0,$0:h.filter(function(by){return h.forall(function(bz){return!(by===bz);},bx);},bw.$0)};};bj.Iter=function(bv,bw){h.iter(bv,bw.$0);};bj.DocChildren=function(bv){var bw;function bx(by){if(by!=null&&by.$==2)bx(by.$0.Current);else if(by!=null&&by.$==1)bw.push(by.$0.El);else if(by==null);else if(by!=null&&by.$==5)bw.push(by.$0);else if(by!=null&&by.$==4)bw.push(by.$0.Text);else if(by!=null&&by.$==6)h.iter(function(bz){if(bz==null||bz.constructor===P)bx(bz);else bw.push(bz);},by.$0.Els);else{bx(by.$0);bx(by.$1);}}bw=[];bx(bv.Children);return{$:0,$0:G.ofSeqNonCopying(bw)};};bl=e.OperationCanceledException=br.Class({},bk,bl);bl.New=br.Ctor(function(bv){bl.New$1.call(this,"The operation was canceled.",null,bv);},bl);bl.New$1=br.Ctor(function(bv,bw,bx){this.message=bv;this.inner=bw;P.setPrototypeOf(this,bl.prototype);this.ct=bx;},bl);bm.Create=function(bv){return bp.New(false,bv,bm.forceLazy);};bm.forceLazy=function(){var bv;bv=this.v();this.c=true;this.v=bv;this.f=bm.cachedLazy;return bv;};bm.cachedLazy=function(){return this.v;};bn.$cctor=function(){bn.$cctor=a.ignore;bn.Empty={$:0};};bp.New=function(bv,bw,bx){return{c:bv,v:bw,f:bx};};br.OnLoad(function(){c.Main();});}());


if (typeof IntelliFactory !=='undefined') {
  IntelliFactory.Runtime.ScriptBasePath = '/Content/';
  IntelliFactory.Runtime.Start();
}
